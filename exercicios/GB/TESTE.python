# ============================================================
# Sistema de Venda de Toras - Empresa Y
# Autor: Gabriel Vargas
# ============================================================

# 1Ô∏è‚É£ Mensagem de boas-vindas (EXIG√äNCIA DE C√ìDIGO 1 de 7)
print("Bem-vindo ao sistema de vendas da Empresa Y!")
print("Desenvolvido por: Gabriel Vargas\n")

# ============================================================
# 2Ô∏è‚É£ Fun√ß√£o escolha_tipo() (EXIG√äNCIA DE C√ìDIGO 2 de 7)
# Pergunta o tipo de madeira e retorna o valor do m¬≥
# ============================================================
def escolha_tipo():
precos = {
"PIN": 150.40, # Pinho
"PER": 170.20, # Peroba
"MOG": 190.90, # Mogno
"IPE": 210.10, # Ip√™
"IMB": 220.70 # Imbuia
}

while True:
tipo = input("Digite o tipo de madeira (PIN, PER, MOG, IPE, IMB): ").strip().upper()
if tipo in precos:
return precos[tipo]
else:
print("‚ùå Op√ß√£o inv√°lida! Tente novamente com: PIN, PER, MOG, IPE ou IMB.\n")

# ============================================================
# 3Ô∏è‚É£ Fun√ß√£o qtd_toras() (EXIG√äNCIA DE C√ìDIGO 3 de 7)
# Pergunta a quantidade, retorna quantidade e desconto
# ============================================================
def qtd_toras():
while True:
try:
qtd = float(input("Digite a quantidade de toras (em m¬≥): "))

if qtd < 0:
print("‚ùå Quantidade n√£o pode ser negativa!\n")
continue
if qtd > 2000:
print("‚ùå Quantidade acima do limite (m√°ximo 2000 m¬≥). Tente novamente.\n")
continue

# Definindo desconto conforme regras
if qtd < 100:
desconto = 0
elif qtd < 500:
desconto = 0.04
elif qtd < 1000:
desconto = 0.09
else: # entre 1000 e 2000
desconto = 0.16

return qtd, desconto

except ValueError:
print("‚ùå Valor inv√°lido! Digite um n√∫mero v√°lido.\n")

# ============================================================
# 4Ô∏è‚É£ Fun√ß√£o transporte() (EXIG√äNCIA DE C√ìDIGO 4 de 7)
# Pergunta o tipo de transporte e retorna o valor
# ============================================================
def transporte():
while True:
print("\nEscolha o tipo de transporte:")
print("1 - Rodovi√°rio (R$1000)")
print("2 - Ferrovi√°rio (R$2000)")
print("3 - Hidrovi√°rio (R$2500)")
opcao = input("Digite sua op√ß√£o (1, 2 ou 3): ").strip()

if opcao == "1":
return 1000
elif opcao == "2":
return 2000
elif opcao == "3":
return 2500
else:
print("‚ùå Op√ß√£o inv√°lida! Escolha 1, 2 ou 3.\n")

# ============================================================
# 5Ô∏è‚É£ e 6Ô∏è‚É£ C√≥digo principal (main) + try/except
# C√°lculo do total conforme f√≥rmula do enunciado
# ============================================================
try:
valor_madeira = escolha_tipo()
qtd, desconto = qtd_toras()
valor_transporte = transporte()

# C√°lculo final
total = ((valor_madeira * qtd) * (1 - desconto)) + valor_transporte

# ============================================================
# 7Ô∏è‚É£ Exibi√ß√£o dos resultados
# ============================================================
print("\n=========== RESUMO DO PEDIDO ===========")
print(f"Pre√ßo da madeira por m¬≥: R${valor_madeira:.2f}")
print(f"Quantidade de toras: {qtd} m¬≥")
print(f"Desconto aplicado: {desconto * 100:.1f}%")
print(f"Valor do transporte: R${valor_transporte:.2f}")
print(f"üí∞ Total a pagar: R${total:.2f}")
print("=========================================")

except Exception as erro:
print("‚ö†Ô∏è Ocorreu um erro inesperado:", erro)